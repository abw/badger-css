/*-- components/tables --*/
$table-padding-v:      0.25em;
$table-padding-h:      0.5em;
$table-border-width:   1px;
$table-border-radius:  $unit-radius;

table {
  --table-padding-v:    #{$table-padding-v};
  --table-padding-h:    #{$table-padding-h};
  --table-border-width: #{$table-border-width};
  --border-radius:      #{$table-border-radius};
  --border-radius-1:    calc(var(--border-radius) - 1px);
  --border-right:       0;
  --table-border:       var(--color-70);
  --background-color:   var(--table-back);
  --border-color:       var(--table-back);
  --border-bottom:      var(--table-border-width);
  --padding-v:          var(--table-padding-v);
  --padding-h:          var(--table-padding-h);
  --padding-l:          var(--padding-h);
  --padding-r:          var(--padding-h);
  --padding-t:          var(--padding-v);
  --padding-b:          var(--padding-v);

  border-collapse: separate;
  border-spacing: 0px;
  border-radius: var(--border-radius);
  & > :first-child > tr:first-child {
    & > :first-child {
      border-top-left-radius: var(--border-radius-1);
    }
    & > :last-child {
      border-top-right-radius: var(--border-radius-1);
    }
  }
  & > :last-child > tr:last-child {
    & > :first-child {
      border-bottom-left-radius: var(--border-radius-1);
    }
    & > :last-child {
      border-bottom-right-radius: var(--border-radius-1);
    }
  }

  tr {
    --table-text:         var(--color-25);
    --table-head:         var(--color-20);
    --table-back:         var(--color-100);
    --table-shade-1:      var(--color-90);
    --table-shade-2:      var(--color-80);
    --table-shade-3:      var(--color-70);
    --table-shade-4:      var(--color-60);
    --color:              var(--table-text);
    --background-color:   var(--table-back);
    th, td {
      padding: var(--padding-t) var(--padding-r) var(--padding-b) var(--padding-l);
      color: var(--color);
      background-color: var(--background-color);
      border-bottom: var(--border-bottom) solid var(--border-color);
      border-right: var(--border-right) solid var(--border-color);
      transition: background-color 0.3s ease, color 0.1s ease;
      text-align: inherit;
      white-space: inherit;
    }
    th, td.key {
      --color: var(--table-head);
    }
    & > *:first-child {
      --padding-l: 0;
    }
    & > *:last-child {
      --padding-r: 0;
    }
  }

  &.lined {
    tr {
      --border-color: var(--table-back);
      --border-bottom: 1px;
    }
    :last-child > tr:last-child > * {
        --border-bottom: 0;
    }
  }
  &.celled {
    --border-color: var(--table-border);
    --border-right: 1px;
    border: 1px solid var(--border-color);
    & > * tr > *:last-child {
      --border-right: 0;
    }
    :last-child > tr:last-child {
      & > *:last-child {
        --border-right: 0;
      }
      &:last-child > * {
        --border-bottom: 0;
      }
    }
  }

  &.celled, &.shaded, &.striped {
    tr > *:first-child {
      --padding-l: var(--padding-h);
    }
    tr > *:last-child {
      --padding-r: var(--padding-h);
    }
  }

  &.shaded, &.striped {
    th {
      --background-color: var(--table-shade-3);
    }
    td {
      --background-color: var(--table-shade-1);
    }
  }

  &.striped {
    tr:nth-child(even) {
      th {
        --background-color: var(--table-shade-4);
      }
      td {
        --background-color: var(--table-shade-2);
      }
    }
  }
}

#{$dark-theme} table {
  --table-border:       var(--color-30);
  tr {
    --table-text:         var(--color-85);
    --table-head:         var(--color-90);
    --table-back:         var(--color-0);
    --table-shade-1:      var(--color-10);
    --table-shade-2:      var(--color-20);
    --table-shade-3:      var(--color-30);
    --table-shade-4:      var(--color-40);
  }
}

/*
  // background: #fff;
  margin: 1em 0;
  color: var(--table-text);
  border: 1px solid var(--table-border);
  border-radius: var(--table-radius);
  text-align: left;
  border-collapse: separate;
  border-spacing: 0px;
  &:last-child {
    margin-bottom: 0em;
  }
  th, td {
    transition: background-color 0.3s ease, color 0.1s ease;
    padding: 0.8em 1em;
  }
  thead th {
    cursor: auto;
    color: var(--table-head-text);
    background: var(--table-head-back);
    text-align: inherit;
    vertical-align: inherit;
    padding: 0.8em 1em;
    font-style: none;
    font-weight: bold;
    font-size: 0.9em;
    text-transform: none;
    border-bottom: 1px solid var(--table-border);
    border-left: none;
  }
}

.table tfoot th {
  cursor: auto;
  border-top: 1px solid $table-edge;
  background: $table-shade;
  text-align: inherit;
  color: $text-color;
  padding: 0.8em 1em;
  vertical-align: middle;
  font-style: normal;
  font-weight: normal;
  text-transform: none;
}
.table > .icon {
  vertical-align: baseline;
}
.table > .icon:only-child {
  margin: 0em;
}
.table.segment {
  padding: 0em;
}
.table tr.warning,
.table td.warning {
  background: $warning-back;
  color: $warning-text;
}
.table tfoot th.important-note {
    color: $brown;
    background-color: rgba($brown, 0.1);
}

.compact.table {
  th, td {
    font-size: $size-smallish;
    line-height: $unit-line;
    padding: $unit-pad-v $unit-pad-h;
  }
}

table.even-3 td {
  width: 33.33% !important;
}
table.even-4 td {
  width: 25% !important;
}
table.even-5 td {
  width: 20% !important;
}

.table.spec {
  border-color: $table-spec-border;
  th, td.key {
    background-color: $table-key-back;
    color: $table-key-fore;
  }
  td {
    background-color: $table-spec-back;
    color: $table-spec-fore;
    border-top: none;
  }
}

table.celled.detail {
  border-color: $table-detail-border;
  border-radius: $table-radius;
  & > thead > tr > th,
  & > tfoot > tr > th {
    border-color: $table-detail-border;
    background: $table-detail-foot;
  }
  & > tbody > tr {
    & > td {
      border-color: $table-detail-border;
      padding: 0.3em 0.5em;
      &.key {
        vertical-align: baseline;
        background-color: $table-key-back;
        border-color: $table-detail-border;
        text-align: right;
     //  width: 33%;
      }
      &.baseline {
        vertical-align: baseline;
      }
      &.narrow {
        width: 20%;
      }
      &.raw {
        white-space: pre-wrap;
        font-family: font('mono');
        font-weight: 300;
        line-height: 160%;
      }
      table.celled.detail {
        border: none;
      }
    }
    &:first-child > td:first-child {
      border-top-left-radius: $table-radius - 1px;
    }
    &:last-child td:first-child {
      border-bottom-left-radius: $table-radius - 1px;
    }
  }
  & > tfoot > tr {
    & > td, & > th {
      &.bold {
        font-weight: bold;
      }
    }
  }
}

table.selectable tr:hover td,
table tr.selectable:hover td,
table tr td.selectable:hover,
table tr th.selectable:hover {
  background-color: $select-hover-back !important;
  color: $select-hover-fore;
  cursor: pointer;
  user-select: none;
  .label {
    background-color: rgba($white, 0.6);
    color: rgba($black, 0.9) !important;
    border-color: rgba($black, 0.5);
  }
}

table tr.selected td,
table.selectable tr.selectable.selected td {
  background-color: rgba($orange, 0.8) !important;
  color: white;
  .label {
    background-color: rgba($white, 0.6);
    color: rgba($black, 0.9) !important;
    border-color: rgba($black, 0.5);
  }
}

table {
  tr.positive td,
  tr td.positive {
    background-color: $positive-back;
    color: $positive-fore;
  }
  tr.negative td,
  tr td.negative {
    background-color: $negative-back;
    color: $negative-fore;
  }
}
table.striped {
  tr.positive:nth-child(even) td,
  tr:nth-child(even) td.positive {
    background-color: darken($positive-back, 5%);
  }
  tr.negative:nth-child(even) td,
  tr:nth-child(even) td.negative {
      background-color: darken($negative-back, 5%);
  }
}

table tr {
  td.middle {
    vertical-align: middle;
  }
  th.shrink,
  td.shrink {
    width:0.1%;
    white-space: nowrap;
  }
  td.saving,
  &.saving td {
    background-color: $saving-back !important;
    color: $saving-fore;
  }
}
*/
