/* forms/config.scss */
$input-line-height:           $unit-line                !default;
$input-padding-v:             $unit-padding-v           !default;
$input-padding-h:             $unit-padding-h           !default;
$input-border-width:          $unit-border-width        !default;
$input-border-radius:         $unit-radius              !default;
$input-transition-time:       0.3s                      !default;
$input-disabled-opacity:      0.4                       !default;
$input-focus-width:           0.25em                    !default;
$input-focus-gap:             0.125em                   !default;
$field-label-size:            0.875em                   !default;
$field-label-margin:          0.5em                     !default;
$field-help-size:             0.75em                    !default;
$field-help-margin:           0.5em                     !default;
$field-tag-size:              0.8em                     !default;
$field-margin:                $unit-margin * 4          !default;
$fieldset-legend-size:        0.8em                     !default;
$fieldset-padding-v:          $unit-padding-v * 4       !default;
$fieldset-padding-h:          $unit-padding-h * 3       !default;
$fieldset-border-width:       $input-border-width       !default;
$fieldset-border-radius:      $input-border-radius * 2  !default;
$field-required-text:         '"Required"'              !default;
$field-optional-text:         '"Optional"'              !default;
$field-valid-help-prefix:     '"✔︎"'                     !default;
$field-invalid-help-prefix:   '"✗"'                     !default;
$form-gradients:              false                     !default;

#{$all-form-controls} {
  --line-height:            #{$input-line-height};
  --border-width:           #{$input-border-width};
  --border-radius:          #{$input-border-radius};
  --padding-v:              #{$input-padding-v};
  --padding-h:              #{$input-padding-h};
  --transition-time:        #{$input-transition-time};
  --disabled-opacity:       #{$input-disabled-opacity};
  --focus-border-color:     var(--color-50);
  --focus-ring-width:       #{$input-focus-width};
  --focus-ring-gap:         #{$input-focus-gap};
  --focus-ring-color:       var(--color-70);
  --focus-gap-color:        var(--color-90);
  --focus-ring-outline:     0 0 0 var(--focus-ring-width) var(--focus-ring-color);
  --focus-ring-inline:      0 0 0 var(--focus-ring-gap)   var(--focus-gap-color);
  --focus-ring:             var(--focus-ring-inline), var(--focus-ring-outline);
  // --focus-outline:          var(--focus-ring-width) solid var(--focus-ring-color);
  --inner-height:           calc((1em * var(--line-height)) + (var(--padding-v) * 2));
  --outer-height:           calc(var(--inner-height) + (var(--border-width) * 2));
  // --label-inset:            calc(var(--padding-h) + var(--border-width));
  // --help-inset:             calc(var(--padding-h) + var(--border-width));
  --label-inset:            var(--padding-h);
  --help-inset:             var(--padding-h);
}

:where(html, .field) {
  --input-color:                     var(--color-30);
  --input-border-color:              var(--color-80);
  --input-background-top:            #{if($form-gradients, var(--color-95), var(--color-100))};
  --input-background-bottom:         var(--color-100);
  --input-hover-color:               var(--color-20);
  --input-hover-border-color:        var(--color-65);
  --input-hover-background-top:      var(--color-95);
  --input-hover-background-bottom:   var(--color-95);
  --input-focus-color:               var(--color-0);
  --input-focus-border-color:        var(--color-50);
  --input-focus-background-top:      var(--color-100);
  --input-focus-background-bottom:   var(--color-100);
}

#{$all-input-types} {
  --color:                  var(--input-color);
  --background-top:         var(--input-background-top);
  --background-bottom:      var(--input-background-bottom);
  --background:             #{if($form-gradients, linear-gradient(180deg, var(--background-top) 0%, var(--background-bottom) 100%), var(--background-bottom))};
  // --background:             linear-gradient(180deg, var(--background-top) 0%, var(--background-bottom) 100%);
  --input-focus-border-color:     var(--color-50);
  --shadow-color:           rgba(0,0,0,0.05);
  --box-shadow:             inset 1px 1px 5px 2px var(--shadow-color);
  --placeholder-color:      var(--color-60);
}

#{$bordered-input-types} {
  --border-color: var(--input-border-color);
}

#{$switch-input-types} {
  --accent-color:           var(--brand-50);
}

.field {
  --label-color:            var(--grey-10);
  --help-color:             var(--color-50);
  --help-prefix-color:      var(--color-50);
  --required-color:         var(--orange-40);
  --required-background:    var(--orange-95);
  --required-border:        var(--orange-85);
  --optional-color:         var(--blue-40);
  --optional-background:    var(--blue-95);
  --optional-border:        var(--blue-85);
  --border-width:           #{$input-border-width};
  --label-size:             #{$field-label-size};
  --label-margin:           #{$field-label-margin};
  --help-size:              #{$field-help-size};
  --help-margin:            #{$field-help-margin};
  --tag-size:               #{$field-tag-size};
  --margin-bottom:          #{$field-margin};
  --required-text:          #{$field-required-text};
  --optional-text:          #{$field-optional-text};
  --fix-color:              var(--color-40);
  --fix-background:         var(--color-95);
  --fix-hover-background:   var(--color-90);
  --valid-help-prefix:      #{$field-valid-help-prefix};
  --invalid-help-prefix:    #{$field-invalid-help-prefix};
}

.surface-1, .surface-2, .surface-3,
.surface-1 .field, .surface-2 .field, .surface-3 .field {
  --input-border-color:              var(--color-75);
  // --input-background-top:            var(--color-90);
  --input-background-top:            #{if($form-gradients, var(--color-90), var(--color-95))};
  --input-background-bottom:         var(--color-95);
  --input-hover-border-color:        var(--color-55);
  --input-hover-background-top:      #{if($form-gradients, var(--color-85), var(--color-90))};
  --input-hover-background-bottom:   var(--color-90);

  #{$all-form-controls} {
    --focus-ring-color:        var(--color-65);
  }
  .field {
    --label-color:            var(--grey-20);
    --help-color:             var(--color-45);
    --help-prefix-color:      var(--color-45);
    --required-background:    var(--orange-90);
    --required-border:        var(--orange-80);
    --optional-background:    var(--blue-90);
    --optional-border:        var(--blue-75);
    --fix-color:              var(--color-40);
    --fix-background:         var(--color-85);
  }
}
.surface-1,
.surface-1 .field {
  --input-border-color:              var(--color-65);
  --input-hover-border-color:        var(--color-45);
  .field {
    --label-color:            var(--grey-10);
    --help-color:             var(--color-45);
    --help-prefix-color:      var(--color-45);
  }
}

#{$dark-theme} {
  #{$all-form-controls} {
    --input-color:                     var(--color-60);
    --input-border-color:              var(--color-25);
    --input-background-top:            #{if($form-gradients, var(--color-0), var(--color-5))};
    --input-background-bottom:         var(--color-5);
    --input-hover-color:               var(--color-80);
    --input-hover-border-color:        var(--color-35);
    --input-hover-background-top:      #{if($form-gradients, var(--color-5), var(--color-10))};
    --input-hover-background-bottom:   var(--color-10);
    --input-focus-color:               var(--color-100);
    --input-focus-border-color:        var(--color-50);
    --input-focus-background-top:      var(--color-5);
    --input-focus-background-bottom:    #{if($form-gradients, var(--color-10), var(--color-5))};

    --focus-ring-color:       var(--color-30);
    --focus-gap-color:        var(--color-5);
  }
  #{$all-input-types} {
    --shadow-color:           rgba(0,0,0,0.1);
    --placeholder-color:      var(--color-35);
  }
  .field {
    --label-color:            var(--grey-80);
    --help-color:             var(--color-50);
    --help-prefix-color:      var(--color-50);
    --required-color:         var(--orange-60);
    --required-background:    var(--orange-10);
    --required-border:        var(--orange-15);
    --optional-color:         var(--blue-60);
    --optional-background:    var(--blue-10);
    --optional-border:        var(--blue-15);
    --fix-color:              var(--color-50);
    --fix-background:         var(--color-20);
    --fix-hover-background:   var(--color-30);
  }
  .surface-3,
  .surface-3 .field {
    #{$all-form-controls} {
      --input-background-top:            #{if($form-gradients, var(--color-0), var(--color-5))};
      --input-background-bottom:         var(--color-5);
    }
  }
  .surface-3, .surface-4, .surface-5,
  .surface-3 .field, .surface-4 .field, .surface-5 .field {
    #{$all-form-controls} {
      --focus-ring-color:        var(--color-40);
    }
    #{$all-input-types} {
      --background-color:       var(--color-10);
      --placeholder-color:      var(--color-50);
    }
    .field {
      --label-color:            var(--grey-60);
      // --help-color:             var(--color-50);
      // --help-prefix-color:      var(--color-50);
      --required-color:         var(--orange-65);
      --required-background:    var(--orange-20);
      --required-border:        var(--orange-25);
      --optional-color:         var(--blue-65);
      --optional-background:    var(--blue-20);
      --optional-border:        var(--blue-25);
      --fix-color:              var(--color-60);
      --fix-background:         var(--color-25);
    }
  }
  .surface-5,
  .surface-5 .field {
    --input-border-color:              var(--color-35);
    --input-hover-border-color:        var(--color-50);

    #{$all-form-controls} {
      --focus-ring-color:        var(--color-40);
    }
    #{$all-input-types} {
      --background-color:       var(--color-10);
      --placeholder-color:      var(--color-50);
    }
    .field {
      --label-color:            var(--grey-60);
      --help-color:             var(--color-55);
      --help-prefix-color:      var(--color-55);
      --required-color:         var(--orange-65);
      --required-background:    var(--orange-20);
      --required-border:        var(--orange-25);
      --optional-color:         var(--blue-65);
      --optional-background:    var(--blue-20);
      --optional-border:        var(--blue-25);
      --fix-color:              var(--color-60);
      --fix-background:         var(--color-25);
    }
  }
}
