/* forms/fields.scss */
.field {
  margin-bottom: var(--margin-bottom);
  #{$standard-label} {
    display: block;
    margin-bottom: var(--label-margin);
    color: var(--label-color);
    font-size: var(--label-size);
    line-height: 1.5;
    margin-left: var(--label-inset);
  }
  label:not(.checkbox, .radio)::after {
    display: none;
    margin-left: 1em;
    font-size: 0.8em;
    padding: 0em 0.25em;
    position: relative;
    bottom: 0.1em;
    border-radius: 0.25em;
    color: var(--tag-color);
    background-color: var(--tag-background);
    border: 1px solid var(--tag-border);
  }
  div.help {
    margin-top: var(--help-margin);
    font-size: var(--help-size);
    color: var(--help-color);
    line-height: 1.5;
    margin-left: var(--help-inset);
  }
  &.valid div.help {
    --help-prefix: var(--valid-help-prefix);
  }
  &.invalid div.help {
    --help-prefix: var(--invalid-help-prefix);
  }
  &.valid div.help, &.invalid div.help {
    &::before {
      content: var(--help-prefix);
      color: var(--help-prefix-color);
      margin-right: 0.5em;
    }
  }
  &.required label:not(:has(input[type=checkbox]),:has(input[type=radio]))::after {
    display: inline-block;
    content: var(--required-text);
    --tag-color:      var(--required-color);
    --tag-border:     var(--required-border);
    --tag-background: var(--required-background);
  }
  &.optional label:not(:has(input[type=checkbox]),:has(input[type=radio]))::after {
    display: inline-block;
    content: var(--optional-text);
    --tag-color:      var(--optional-color);
    --tag-border:     var(--optional-border);
    --tag-background: var(--optional-background);
  }
  .inputs {
    display: inline-flex;
    border-radius: var(--border-radius);
    &:not(.inline, :has(.inline)) {
      width: 100%;
    }
    .prefix, .suffix {
      padding: var(--padding-v) var(--padding-h);
      border: var(--border-width) solid var(--border-color);
      border-radius: var(--border-radius);
      color: var(--fix-color);
      transition: all var(--transition-time);
      &:not(.bare) {
        background-color: var(--fix-background);
      }
      &.bare {
        background: var(--background);
      }
    }
    .prefix {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
      &.bare {
        border-right-width: 0;
      }
    }
    .suffix {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
      &.bare {
        border-left-width: 0;
      }
    }
    &:has(.prefix) {
      #{$standard-input-types}, #{$bordered-switch-input-types} {
        border-left: none;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        &.focus, &:focus, &:has(:focus) {
          box-shadow: none;
        }
      }
    }
    &:has(.suffix) {
      #{$standard-input-types}, #{$bordered-switch-input-types}  {
        border-right: none;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        &.focus, &:focus, &:has(:focus) {
          box-shadow: none;
        }
      }
    }
    &:hover, &:hover .prefix, &:hover .suffix {
      --border-color: var(--input-hover-border-color);
    }
    &:hover {
      .prefix, .suffix {
        background-color: var(--fix-hover-background);
        &.bare {
          background-color: var(--input-hover-background-bottom);
        }
      }
    }
    &.focus, &:focus-within {
      box-shadow: var(--focus-ring);
      .prefix, .suffix {
        border-color: var(--focus-border-color);
        &.bare {
          background-color: var(--input-focus-background-bottom);
        }
      }
      #{$standard-input-types}, #{$bordered-switch-input-types}  {
        border-color: var(--focus-border-color);
      }
    }
  }
}
// [class*=grid] > .field {
  // margin-bottom: 0;
// }

